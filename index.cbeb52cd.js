var e=document.querySelector("tbody"),t=document.querySelector(".game-score"),r=document.querySelector("button"),n=document.querySelector(".message-start"),a=document.querySelector(".message-win"),o=document.querySelector(".message-lose"),s=document.querySelector(".message-container"),c=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],l=0,d=!1,i=!1;function h(){for(var e=Math.floor(4*Math.random()),t=Math.floor(4*Math.random());0!==c[e][t];)e=Math.floor(4*Math.random()),t=Math.floor(4*Math.random());var r=.1>Math.random()?4:2;c[e][t]=r}document.addEventListener("keydown",function(e){if(d)switch(e.key){case"ArrowUp":!function(){for(var e=!1,t=0;t<c[0].length;t++)for(var r=0;r<c.length-1;r++){var n,a=c[r][t],o=c[r+1][t];o>0&&(0===a?(n=[o,0],c[r][t]=n[0],c[r+1][t]=n[1],r=-1,e=!0):a===o&&(c[r][t]*=2,c[r+1][t]=0,l+=c[r][t],e=!0))}e&&h()}();break;case"ArrowDown":!function(){for(var e=!1,t=0;t<c[0].length;t++)for(var r=c.length-1;r>0;r--){var n=c[r][t],a=c[r-1][t];a>0&&(0===n?(c[r][t]=a,c[r-1][t]=0,r=c.length,e=!0):n===a&&(c[r][t]*=2,c[r-1][t]=0,l+=c[r][t],e=!0))}e&&h()}();break;case"ArrowLeft":!function(){for(var e=!1,t=0;t<c.length;t++)for(var r=c[t].length-1;r>=0;r--){var n=c[t][r],a=c[t][r+1];a>0&&(0===n?(c[t][r]=a,c[t][r+1]=0,r=c[t].length,e=!0):n===a&&(c[t][r]*=2,c[t][r+1]=0,l+=c[t][r],e=!0))}e&&h()}();break;case"ArrowRight":!function(){for(var e=!1,t=0;t<c.length;t++)for(var r=1;r<c[t].length;r++){var n=c[t][r],a=c[t][r-1];a>0&&(0===n?(c[t][r]=a,c[t][r-1]=0,r=-1,e=!0):n===a&&(c[t][r]*=2,c[t][r-1]=0,l+=c[t][r],e=!0))}e&&h()}()}f()}),r.addEventListener("click",function(){d?(d=!1,r.textContent="Start",r.classList.remove("restart"),r.classList.add("start"),c=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],l=0,i=!1,a.classList.add("hidden"),o.classList.add("hidden")):(d=!0,r.textContent="Restart",r.classList.add("restart"),r.classList.remove("start"),h(),h()),f()});var f=function(){t.innerHTML='<span class="game-score">'.concat(l,"</span>"),e.innerHTML="";for(var r=0;r<c.length;r++){var h=document.createElement("tr");h.classList.add("field-row");for(var f=0;f<c[r].length;f++){var u=c[r][f],m=document.createElement("td");m.textContent=0===u?"":u,m.classList.add("field-cell"),0!==u&&m.classList.add("field-cell--".concat(u)),h.appendChild(m)}e.appendChild(h)}!function(){for(var e=0;e<c.length;e++)for(var t=0;t<c[e].length;t++)if(0===c[e][t]||t<c[e].length-1&&c[e][t]===c[e][t+1]||e<c.length-1&&c[e][t]===c[e+1][t])return;o.classList.remove("hidden")}(),c.some(function(e){return e.some(function(e){return 2048===e})})&&(i=!0),a.classList.toggle("hidden",!i),d?s.contains(n)&&s.removeChild(n):s.appendChild(n)};
//# sourceMappingURL=index.cbeb52cd.js.map
